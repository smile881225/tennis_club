{% extends "base.html" %}

{% block title %}
    Questionnaire feedback
{% endblock %}

{% block style %}
    .container {
    width: auto;
    padding: 20px;
    {#        border: 1px solid #ccc;#}
    {#        border-radius: 5px;#}
    display: flex;
    justify-content: center;
    align-items: center;
    }
    table {
    height: calc(100vh - 220px); /* 全屏高度 */
    width: 100%;
    border-collapse: collapse;
    }
    th, td {

    text-align: center;
    border: 1px solid #ffefef;
    padding: 10px;
    }
    .modal-dialog {
    width: 400px;
    height: 300px;
    overflow: hidden;
    overflow-y: auto; /* 添加滚动条 */
    }
{% endblock %}

{% block content %}
    <div class="container">
        <form method="post">
            {% csrf_token %}
            <table class="mb-3">
                <tr>
                    <th style="padding:17px;">問題</th>
                    <th> 1</th>
                    <th> 2</th>
                    <th> 3</th>
                    <th> 4</th>
                    <th> 5</th>
                </tr>
                {% for field in form %}
                    {% if field.name != 'student_id' and forloop.revcounter > 3 %}
                        <tr>
                            <td style="text-align: start;">{{ field.label }}</td>
                            {% for choice in field %}
                                {% if not forloop.first %}
                                    <td>
                                        <label>
                                            {{ choice }}
                                        </label>
                                    </td>
                                {% endif %}
                            {% endfor %}
                        </tr>
                    {% endif %}
                    {% if forloop.revcounter <= 3 %}
                        <tr style="">
                            <td style="text-align: start;">{{ field.label }}</td>
                            <td style="height: 130px;" colspan="5">{{ field }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </table>
            <div class="d-flex justify-content-center align-items-center">
                <div class="me-4">
                    {% for field in form %}
                        {% if forloop.first %}
                            {{ field.label }}：
                            {{ field }}
                        {% endif %}
                    {% endfor %}
                </div>
                <button type="submit" class="btn btn-primary" style="float: right;">提交問卷</button>
            </div>
        </form>
    </div>
{% endblock %}
